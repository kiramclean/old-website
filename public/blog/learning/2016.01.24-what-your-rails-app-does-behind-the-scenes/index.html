<!DOCTYPE html>
<html>
  <head>
    <meta name="generator" content="Hugo 0.15" />
    <html lang="en-CA">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="" rel="alternate" type="application/rss+xml" title="Kira McLean" />
    <link href="" rel="feed" type="application/rss+xml" title="Kira McLean" />

    <link href='https://fonts.googleapis.com/css?family=Amatic+SC' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Miniver' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

    <link rel="stylesheet" href="http://kiramclean.com//css/main.css">

    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-57190325-3', 'auto');
ga('send', 'pageview');
</script>


    
      <title>What Your Rails App Does Behind the Scenes | Kira McLean</title>
      <meta property="og:title" content="What Your Rails App Does Behind the Scenes | Kira McLean">
      <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://kiramclean.com/blog/learning/2016.01.24-what-your-rails-app-does-behind-the-scenes/">
    
    
  </head>


<body>

  <header>
    <a id="logo" href="http://kiramclean.com/">Kira McLean</a>

    <nav>
      <ul>
        <li><a href="http://kiramclean.com/blog/">Blog</a></li>
        <li><a href="http://kiramclean.com/projects/">Web Development</a></li>
      </ul>
    </nav>
  </header>

  <main>


  <section>
    <article>
      <h1>What Your Rails App Does Behind the Scenes</h1>
      <time>January 24, 2016</time><span>â€¢</span><p>6 min read</p>
      

<p>Ever wondered what your rails app is really doing? When I first started learning rails it seemed like magic. I finally got started building some rails apps and couldn&rsquo;t believe I could get one up and running in 5 minutes. What is this magic? Needless to say there&rsquo;s a lot going on behind the scenes. I was living in blissful ignorance, building away and not worrying about how it all worked until it didn&rsquo;t anymore. When the error messages stopped making sense, I realized I should probably dig a little deeper and see what Rails&rsquo; magic is made of. You don&rsquo;t have to be able to rebuild Rails or even add to it, but understanding it is at least a start and, IMO, important if you&rsquo;re going to try to build with it, if only because it makes debugging so much simpler. I&rsquo;ve still got a long way to go, but these are some notes from my first encounter with Rails&rsquo; machinery.</p>

<h2 id="mvc:422d669397faa202e189a45610121484">MVC</h2>

<p>Rails structures your web app using model, view, controller (MVC) architecture. This just means it separates the different components of your app and the app works by sending information between them. To understand this, it helped me to think about what happens between a user clicking a button on a web page and seeing the result. It seems like such a simple thing from the user&rsquo;s point of view, but &ndash; depending on what the button does &ndash; there could be a lot going on in between. Keep this picture in mind as you read on:</p>


<figure >
    
        <img src="http://kiramclean.com/images/rails_mvc.png" alt="Rails MVC architecture" />
    
    
    <figcaption>
        <p>
        Rails MVC architecture. Yes, I still take notes by hand.
        
            
        
        </p> 
    </figcaption>
    
</figure>


<blockquote>
<h2 id="http:422d669397faa202e189a45610121484">HTTP</h2>

<p>This is a quick aside because it&rsquo;s hard to understand how your web app works without understanding HTTP. If you don&rsquo;t know anything about it there are tons of free resources to give you a quick intro. This <a href="https://launchschool.com/books/http/read/introduction">free book on the basics of HTTP</a> by Launch School is a great place to start. The gist of it is that HTTP is the protocol your browser uses to send a <strong>request</strong> to a server and receive a <strong>response</strong>. If that makes sense then you&rsquo;re half way to understanding the internet, and your Rails app. At a basic level all web apps do is issue requests to servers and then handle the responses the servers, well, serve.</p>
</blockquote>

<p>Back to the picture above, now. Maybe it looks like a lot at first, but breaking down each step makes it easier to understand what&rsquo;s going on.</p>

<h3 id="1-sending-a-request:422d669397faa202e189a45610121484">1. Sending a Request</h3>

<p>This isn&rsquo;t really something Rails does, but it&rsquo;s the first step in a user&rsquo;s interaction with your web app. This could be the user clicking a link or button, submitting a form, refreshing the page, or a few other things. When your app gets this request Rails magic kicks in to handle it.</p>

<h3 id="2-routing-the-request:422d669397faa202e189a45610121484">2. Routing the Request</h3>

<p>The first stop for any request is the Rails router. This is where Rails decides what to do with the request. It can either redirect your user to another page (issuing a new request and starting the loop over), or forward the request to a controller. What it does depends on how your routes are configured. You can configure your routes in <code>config/routes.rb</code>, or see which routes you have already defined by typing <code>rake routes</code> in your terminal.</p>

<h3 id="3-calling-a-controller-action:422d669397faa202e189a45610121484">3. Calling a Controller Action</h3>

<p>If the request was sent on to a controller, the next step is for that controller to call the appropriate &ldquo;action&rdquo;. These are just methods in the controller file. I still don&rsquo;t know why they are called actions in Rails &ndash; I was so confused until I realized that controller actions are just methods, and you write these methods to determine the behaviour of your app. The controller in the MVC architecture connects the user to the rest of the app. Controllers can accept user input and pass it on to the model, which is the next step.</p>

<h3 id="4-interacting-with-the-database:422d669397faa202e189a45610121484">4. Interacting with the Database</h3>

<p>The controller passes information to the model in your rails app, which is the underlying engine that can store or manipulate the database powering your app. It&rsquo;s hard to understand why we need models without understanding the stateless nature of the HTTP protocol:</p>

<blockquote>
<h2 id="understanding-statelessness:422d669397faa202e189a45610121484">Understanding Statelessness</h2>

<p>Another key thing to understand about HTTP is that it is a &ldquo;stateless&rdquo; protocol, so requests sent and responses received via HTTP have no state. This means that each request/response cycle is completely independent of any other cycle, implying that servers do not remember any information about the state of our web apps between requests. You could think of a &ldquo;state&rdquo; as being sort of like a user&rsquo;s custom version of a web app. For example, if you add something to an online shopping cart (one request), then continue shopping (a new request), you expect the item to still be in your shopping cart. Or if you log in to a website (one request) then visit a friend&rsquo;s profile page (a new request), you expect to stay logged in. How does the server know to give you a version of the web app showing the item in your cart or with you as the logged in user if it has no memory of your previous requests? Simulating this &ldquo;stateful&rdquo;, or continuous experience is part of what web developers do.</p>
</blockquote>

<p>Models are the persistence layer in your app and contain the logic for interacting with the database. This is one trick developers use to create the illusion of an app that remembers its users.</p>

<h3 id="5-and-6-sending-information-to-the-views:422d669397faa202e189a45610121484">5. and 6. Sending Information to the Views</h3>

<p>After the model finishes what the controller asked it to, it stores that information in a variable to be passed back to the controller and on to to the views. The idea is that there should be no logic at all in the views, they should only act as a skin for your app, so the user has something nice to see and interact with.</p>

<h3 id="7-and-8-rendering-a-view-for-the-user:422d669397faa202e189a45610121484">7. and 8. Rendering a View for the User</h3>

<p>Views are like skins for your web pages and contain code that tells Rails how to render a given web page, so what to show to the user. They can include information accepted from the controller, which is how web pages can be rendered &ldquo;dynamically&rdquo;, meaning they can be different depending on when they&rsquo;re rendered and who renders them. At this point, the controller action might render particular view or might redirect the user to another web page, issuing a new request and starting the loop over again.</p>

<h2 id="happy-coding:422d669397faa202e189a45610121484">Happy Coding!</h2>

<p>This is how I think about MVC, and Rails apps in particular. Of course there&rsquo;s a lot more depth and lots of &ldquo;actually, sometimes&hellip;&rdquo; cases, but this is a brief overview to hopefully give you enough of an understanding to be able to get started making your own Rails apps or at least make debugging tutorial apps a little simpler. If there&rsquo;s anything you think I&rsquo;ve missed or misunderstood, let me know! Otherwise, happy coding.</p>

    </article>

    <aside>
      <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'kiramclean';
    var disqus_identifier = 'http:\/\/kiramclean.com\/blog\/learning\/2016.01.24-what-your-rails-app-does-behind-the-scenes\/';
    var disqus_title = 'What Your Rails App Does Behind the Scenes';
    var disqus_url = 'http:\/\/kiramclean.com\/blog\/learning\/2016.01.24-what-your-rails-app-does-behind-the-scenes\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </aside>
  </section>

  </main>

  <footer>
    <div id='contact'>
  <ul>
    
      <li><a href="//github.com/kiramclean" target="_blank">
        <i class="fa fa-github-square"></i>
        <p>GitHub</p>
      </a></li>
    

    
      <li><a href="//twitter.com/kiraemclean" target="_blank">
        <i class="fa fa-twitter-square"></i>
        <p>Twitter</p>
      </a></li>
    

    
      <li><a href="//linkedin.com/in/kiramclean" target="_blank">
        <i class="fa fa-linkedin-square"></i>
        <p>LinkedIn</p>
      </a></li>
    

    
      <li><a href="mailto:email@kiramclean.com">
        <i class="fa fa-envelope-square"></i>
        <p>Email</p>
      </a></li>
    
  </ul>
</div>

    <nav>
  <ul>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li><a href="http://kiramclean.com/pages/about/">About Me</a></li>
    
  
    
  
    
      <li><a href="http://kiramclean.com/pages/wifi-and-coffee/">Wifi and Coffee</a></li>
    
  
  </ul>
</nav>




    <div id="copy">
      <p>&copy; 2016 Kira McLean</p>
    </div>

  </footer>
</body>
</html>

